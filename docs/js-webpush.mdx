---
title: "WebPush"
description: "Suggest Edits"
---

### Prerequisites

* Integration of [Javascript SDK](/docs/javascript-sdk)

**NOTE:** WebPush notifications only work over https. Most browsers allow push to work in localhost also for development purposes.

## Integration Steps

### 1. Configuration

While creating SuprSend instance you have to pass vapidKey (get it in SuprSend Dashboard --> Vendors --> WebPush).

If you want to have custom serviceworker file name instead of `serviceworker.js`(mentioned in step2), you can pass name of it in `swFileName`.

<CodeGroup>
  ```typescript typescript
  new SuprSend(publicApiKey: string, {vapidKey?: string, swFileName?: string})
  ```
</CodeGroup>

### 2. Add ServiceWorker file

Service worker file is the background worker script which handles push notifications.

Create `serviceworker.js` file such that it should be publicly accessible from `https://<your_domain>/serviceworker.js`. Add below lines of code in that file and replace publicApiKey with key you find in API Keys page in SuprSend Dashboard.

<CodeGroup>
  ```javascript javascript
  importScripts('https://cdn.jsdelivr.net/npm/@suprsend/[emailÂ protected]/public/serviceworker.min.js');
  initSuprSend(publicApiKey);
  ```
</CodeGroup>

### 3. Register Push

Call `registerPush` in your code, which will perform following tasks:

* Ask for notification permission.
* Register push service and generate webpush token.
* Send webpush token to SuprSend.

<CodeGroup>
  ```typescript typescript
  const response = await suprSendClient.webpush.registerPush();
  ```
</CodeGroup>

**Returns:** `Promise<ApiResponse>`

**NOTE:** This method should be called on user action like button click for better UX, don't call this on page load.

## Other available methods

### Check for permission

To check if user has enabled notifications permission use method provided by library

<CodeGroup>
  ```typescript syntax
  suprSendClient.webpush.notificationPermission(): 
  ```
</CodeGroup>

This will return a string representing the current permission. The value can be:

**granted:** The user has granted permission for the current origin to display notifications.

**denied:** The user has denied permission for the current origin to display notifications.

**default:** The user's decision is unknown. This will be permission when user first lands on website.

***

* [Table of Contents](#)

* * * [Prerequisites](#prerequisites)

  * [Integration Steps](#integration-steps)

    * [1. Configuration](#1-configuration)
    * [2. Add ServiceWorker file](#2-add-serviceworker-file)
    * [3. Register Push](#3-register-push)

  * [Other available methods](#other-available-methods)
    * [Check for permission](#check-for-permission)
