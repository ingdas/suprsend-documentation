---
title: "Objects"
description: "This document will cover all the methods related to objects"
url: "/docs/python/objects"
---

Objects represent non-user entities such as organizations, teams, roles, and projects. Understand more about objects [here](https://docs.suprsend.com/docs/objects).

## Create Object

This is an `upsert` method, used to create or update an object.

<CodeGroup>
  ```javascript Response [method]
  import suprsend
  supr_client = suprsend.Suprsend("Workspace_Key", "Workspace_Secret")

  # Object details
  object_id = "id"
  object_type = "type"

  # Correct payload format (optional)
  payload = {
      "properties": {  # Nested inside "properties"
          "name": "John Doe",
          "$email": "john@example.com"
      }
  }

  # Attempting upsert operation (assuming correct method)
  res = supr_client.objects.upsert(object_type, object_id, payload)
  print(res)
  ```

  ```python Response
  {
    'object_type': 'type', 
    'id': 'id', 
    'subscriptions_count': 0, 
    'properties': {'properties': {'$email': 'john@example.com', 'name': 'John Doe'}
                  }, 
    'created_at': '2025-03-12T22:00:38.730766+00:00', 
    'updated_at': '2025-03-12T22:00:38.730766+00:00', 
    '$inbox': 
    [
      {
        'value': 'jjloR7gJX38-DEWleXa6-wfpaS_zk7-t4DfVKo07wbc', 
        'id_provider': 'suprsend', 
        'status': 'active', 
        'perma_status': 'active'
      }
    ]
  }
  ```
</CodeGroup>

<Note>
  When you call `supr_client.objects.upsert()`, the response will immediately indicate whether the request was successful or if the object was not created.
</Note>

## Create Object Instance

For this, first create object instance then call any of the helper methods mentioned below and finally save the changes

<CodeGroup>
  ```python Request
  obj_inst = supr_client.objects.get_edit_instance("_object_type_", "_object_id_")
  res = supr_client.objects.edit(obj_inst)
  print(res)
  ```

  ```python Response
  {
   'object_type': '_object_type_', 
   'id': '_object_id_', 
   'subscriptions_count': 0, 
   'properties': {}, 
   'created_at': '2025-03-04T08:34:58.061696+00:00', 
   'updated_at': '2025-03-04T08:34:58.061696+00:00', 
   '$inbox': 
   	[
     {'value': 'dHvPs6pmUUwSLkiQTAsfM2yro2TRx2CXZOtjNkum9b8', 'id_provider': 'suprsend', 'status': 'active', 'perma_status': 'active'}
    ]
  }
  ```
</CodeGroup>

## Edit an object (using helper methods) \[Recommended]

It is possible to use the SDK's helper methods to perform edit operations on an object.

<AccordionGroup>
  <Accordion title="Add channels" defaultOpen={false}>
    Use `object_ins.add_*` method(s) to add channels

    <CodeGroup>
      ```javascript helloWorld.js
      console.log("Hello World");
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Remove channels" defaultOpen={false}>
    Use `object_ins.remove_*` method(s) to remove channels from an object

    <CodeGroup>
      ```javascript Request
      console.log("Hello World");
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Remove channels in bulk" defaultOpen={false}>
    If you need to delete/unset all emails (or any other channel data) of an object, you can call object\_ins.unset() method. The method accepts the channel key/s (a single key or list of keys)

    <CodeGroup>
      ```javascript helloWorld.js
      console.log("Hello World");
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Set preferred language" defaultOpen={false}>
    If you want to send notification in object's preferred language, you can set it by passing language code in `object_ins.setPreferredLanguage()` method. This is useful especially for the applications which offer vernacular or multi-lingual support

    <CodeGroup>
      ```javascript helloWorld.js
      console.log("Hello World");
      ```
    </CodeGroup>
  </Accordion>

  <Accordion title="Set timezone" defaultOpen={false}>
    You can set timezone of user using object\_ins.setPreferredLanguage() method. Value for timezone must be from amongst the [IANA timezones](https://data.iana.org/time-zones/tzdb-2024a/zonenow.tab)

    <CodeGroup>
      ```javascript helloWorld.js
      console.log("Hello World");
      ```
    </CodeGroup>
  </Accordion>
</AccordionGroup>

## Edit an object (build edit payload yourself)

Use this to modify an object, typically for removing channels or unsetting properties. The payload will follow the same structure as the Object Edit API

<CodeGroup>
  ```python Request
  res = supr_client.objects.edit("object_type", "object_id", {"operations": [{"$set": {"name": "John Doe"}}]})
  print(res)
  ```

  ```python Response
  {
   'object_type': '_object_type_', 
   'id': '_object_id_', 
   'subscriptions_count': 0, 
   'properties': {}, 
   'created_at': '2025-03-04T08:34:58.061696+00:00', 
   'updated_at': '2025-03-04T08:34:58.061696+00:00', 
   '$inbox': 
   	[
     {'value': 'dHvPs6pmUUwSLkiQTAsfM2yro2TRx2CXZOtjNkum9b8', 'id_provider': 'suprsend', 'status': 'active', 'perma_status': 'active'}
    ]
  }
  ```
</CodeGroup>

## List Objects

List objects for an `object_type`. You can also pass listing options in the payload which includes `limit`,`before`,`after`

<CodeGroup>
  ```python Request
  res = supr_client.objects.list("object_type")
  {"after": "01JJW6H55N3JPB59ARDW85G0KN", "limit": 1}

  print(res) 
  ```

  ```python Response
  {
     "meta":{
        "count":0,
        "limit":10,
        "has_prev":false,
        "before":"None",
        "has_next":false,
        "after":"None"
     },
     "results":[]
  }
  ```
</CodeGroup>

## Get Object Details

<CodeGroup>
  ```python Request
  res = supr_client.objects.get("object_type", "object_id")
  print(res)
  ```

  ```python Response
  {
    'object_type': 'abc_1', 
    'id': 'abc_2', 
    'subscriptions_count': 0, 
    'properties': 
    {
      'name': 'New Object'
    }, 
      'created_at': '2025-03-12T22:15:02.805468+00:00', 
      'updated_at': '2025-03-12T22:15:02.805468+00:00', 
      '$inbox': 
      [
        {
          'value': '7EXnFak37-qht8H0-HvsBVEQfQjunHcVs6W5Hl3MOcY', 
          'id_provider': 'suprsend', 
          'status': 'active', 
          'perma_status': 'active'
        }
      ]
  }
  ```
</CodeGroup>

## Delete Object

<CodeGroup>
  ```python Request
  res = supr_client.objects.delete("object_type", "object_id")
  print(res) 
  ```

  ```python Response
  {
    'success': True, 
    'status_code': 204
  }
  ```
</CodeGroup>

## Add Object Subscription

<CodeGroup>
  ```python Request
  res = supr_client.objects.create_subscriptions("object_type", "object_id", {
    "recipients": ["id1", {"object_type": "abc_1", "id": "abc_2"}],
    "properties": {"type": "admin"},
  })

  print(res)
  ```

  ```python Response
  {
    'results': 
    [
      {'properties': {'type': 'admin'}, 
       'user': None, 
       'object': 
       {
         'id': 'abc_2', 
         'object_type': 'abc_1', 
         'subscriptions_count': 0, 
         'updated_at': '2025-03-12T22:30:51.508+00:00'
       }, 
       'created_at': '2025-03-12T22:30:51.510014+00:00', 
       'updated_at': '2025-03-12T22:30:51.510014+00:00'
      }
    ]
  }
  ```
</CodeGroup>

## List Subscriptions of Objects

<CodeGroup>
  ```javascript Request
  res = supr_client.objects.get_subscriptions("object_type", "object_id") 
  {"after": "01JJW6H55NXXXXXX5G0KN", "limit": 1}

  print(res) 
  ```

  ```python Response
  {
    'meta': 
    {
      'count': 1, 
        'limit': 10, 
          'has_prev': False, 
            'before': None, 
              'has_next': False, 
                'after': None
    }, 
      'results': 
      [
        {'properties': {'type': 'admin'}, 
         'user': None, 
         'object': 
         {
           'id': 'abc_2', 
           'object_type': 'abc_1', 
           'subscriptions_count': 0, 
           'updated_at': '2025-03-12T22:30:51.508+00:00'
         }, 
         'created_at': '2025-03-12T22:30:51.510014+00:00', 
         'updated_at': '2025-03-12T22:30:51.510014+00:00'
        }
      ]
  }
  ```
</CodeGroup>

## Remove Object Subscription

<CodeGroup>
  ```python Request
  res = supr_client.objects.delete_subscriptions
  (
    "object_type", "object_id", {
      "recipients": ["id1", {"object_type": "abc_1", "id": "abc_2"}],
      "recipients": ["distinct_id1", {"object_type": "type1", "id": "id1"}],
    })

  print(res) 
  ```

  ```python Response
  {
    'success': True, 
      'status_code': 204
  }
  ```
</CodeGroup>

## Get list of objects subscribed by object

An object can subscribe to other objects. Use this method to get the list of all objects that the current object has subscribed to

<CodeGroup>
  ```python Request
  # Get list of objects subscribed by the object
  res = supr_client.objects.get_objects_subscribed_to("object_type", "object_id", {}) 
  {"after": "01JJW6H55NXXXXX85G0KN", "limit": 1}

  print(res)
  ```

  ```python Response
  {
    'meta': 
    {
      'count': 1, 
        'limit': 10, 
          'has_prev': False, 
            'before': None, 
              'has_next': False, 
                'after': None
    }, 
      'results': 
      [
        {
          'properties': {'type': 'admin'}, 
          'object': {'id': 'abc_2', 'object_type': 'abc_1', 
                     'properties': {'name': 'Test Object'}, 
                     'subscriptions_count': 1, 
                     'updated_at': '2025-03-12T22:30:50.865092+00:00'}, 
          'created_at': '2025-03-12T22:30:51.510014+00:00', 
          'updated_at': '2025-03-12T22:30:51.510014+00:00'}
      ]
  }
  ```
</CodeGroup>