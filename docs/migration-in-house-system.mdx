---
title: "Migrating your in-house Notification System"
description: "A step-by-step guide to transitioning your existing notification system to SuprSend"
---

This guide outlines the migration strategy for integrating SuprSend into your existing notification system. If you are setting up notifications from scratch, refer to the [<u>Quick Start Guide</u>](https://docs.suprsend.com/docs/quick-start-guide) instead.

If you are looking for technical support, reach out to [<u>support@suprsend.com</u>](mailto:support@suprsend.com) and one of our solutions architect will design the entire migration plan befitting to your current notification architecture and business requirement.

## General Migration Approach

There are three primary migration strategies for syncing your existing users and events:

1. **Do one time migration of all users and setup event stream**, then configure notifications on a per-use case basis.
2. **Implement **[**<u>workflow API</u>**](https://docs.suprsend.com/docs/trigger-workflow#triggering-workflow-via-api)** and identify recipients inline** to gradually sync users in SuprSend.
3. **Third-Party CDP Integration:** If you already track data in a CDP (e.g., [<u>Segment</u>](https://docs.suprsend.com/docs/segment)), you can integrate it directly with SuprSend and go live without needing to set up any additional data sync in your codebase.

If you have an event-stream-based system or cannot identify users within workflow triggers (e.g., sending to a group via an object), do [<u>one time migration of users</u>](https://docs.suprsend.com/docs/python-create-user-profile#bulk-api-for-handling-multiple-user-profiles) since both cases need pre-creation of users for successful workflow trigger.

For rest of the cases, you can go with either approaches. However, we recommend doing Bulk user migration unless you have some PII restrictions on sharing user data. User migration doesn't take more than 2 days of additional effort.

## General guidelines around notification architecture setup

### Migrating Backend Systems

- **Call SuprSend APIs from a central place for easy tracking and maintenance**: Your backend systems can communicate with SuprSend using a microservice or monolith to centralize all your communication triggers at a central place.\
  If you don't have these services in place, you can also call SuprSend APIs directly within the code. In this case, you should have a single function that calls SuprSend service and the same function is referred at the required places in the codebase.
- **Introduce Messaging Queue for high notification volume**: If you have a respectable notification volume, introducing a messaging queue in between reduces reliability on the uptime of your internal systems and saves potential notification loss due to downtime of your backend machine or server.
- **Implement retry mechanism for failure response**: It's a good practice to implement retry logic if SuprSend APIs doesn't return a 20x response.
- **Sync existing data and assets** - There are 3 types of data entities in SuprSend - User Data (user, preferences), its modelling (Objects, tenants) and assets (template, workflow).
  - First, sync your [<u>users</u>](https://docs.suprsend.com/docs/users) and their [<u>preferences</u>](https://docs.suprsend.com/docs/preferences). Do one time migration of existing data and setup integration to auto create new users on every profile change. Release it first so that data starts flowing into SuprSend.\
    Skip this step if you are going with inline user identification in workflow API.
  - Setup additional data modelling for [<u>objects</u>](https://docs.suprsend.com/docs/objects) and [<u>tenants</u>](https://docs.suprsend.com/docs/brands) alongside user sync.
  - Asset migration ([<u>templates</u>](https://docs.suprsend.com/docs/templates) and [<u>workflows</u>](https://docs.suprsend.com/docs/design-workflow)) can be done on per-usecase basis. You can design these directly on SuprSend console or use APIs (_currently in beta_).
- **Setup notification trigger**. Integrate direct [<u>workflow API</u>](https://docs.suprsend.com/docs/trigger-workflow#triggering-workflow-via-api) or directly pass user [<u>triggered events</u>](https://docs.suprsend.com/docs/trigger-workflow#event-based-trigger) if you have an existing event stream. You can compare both approaches and see which one fits your usecase better [<u>here</u>](https://docs.suprsend.com/docs/event-vs-api-trigger). Most companies opt for a hybrid approach—passing events for user-initiated actions while using APIs for system-generated alerts.

### Migrating Frontend Applications

Frontend implementation can be planned in parallel but it should be released after your backend migration.

- **Migrating frontend components (**[**<u>Inbox</u>**](https://docs.suprsend.com/docs/inbox-overview)** or **[**<u>Preferences</u>**](https://docs.suprsend.com/docs/preferences)**):** It's a good practice to hide the frontend component behind a feature flag, allowing you to run it in parallel with your existing system. This enables a smooth transition, where you can switch off the current implementation and activate the new component as soon as the backend migration is complete.
- **Migrating mobile push notifications:** Requires an app release with [<u>SuprSend SDK integration</u>](https://docs.suprsend.com/docs/android-firebase-fcm-push-integration). SuprSend SDK automatically registers user tokens on app launch, eliminating the need for manual push token migration. Since users will take time to upgrade, you can maintain dual routing—sending notifications via both your existing vendor integration (e.g., FCM, APNS, OneSignal) and SuprSend until near 100% users upgrade to the new app.\
  During this transition, both SDKs will receive notifications, but only the notification from the existing vendor integration will be displayed. Once the majority of users have migrated, disable routing through the existing vendor, allowing SuprSend SDK to take control.

## Key Migration Steps

<Steps>
  <Step title="User data (Mandatory for Event-Based Triggers):">
    User data migration is required for [<u>event-driven workflows</u>](https://docs.suprsend.com/docs/trigger-workflow#event-based-trigger), as recipient profiles must exist beforehand for successful event triggers. If you are identifying recipients inline within [<u>workflow triggers</u>](https://docs.suprsend.com/docs/trigger-workflow#triggering-workflow-via-api) or using a [<u>CDP connection</u>](https://docs.suprsend.com/docs/segment), you can skip this step.

    **1.1. Setup user sync:**

    - Users can be updated via [<u>backend SDK</u>](https://docs.suprsend.com/docs/python-create-user-profile), [<u>frontend SDK</u>](https://docs.suprsend.com/docs/js-events-and-user-methods#update-user-profile), or [<u>direct API calls</u>](https://docs.suprsend.com/reference/create-update-users).
    - If integrating with the frontend SDK for push or in-app notifications, users will be identified in the frontend application to authenticate them with their respective channel token. In such cases, you can call other profile updates (set out-of app channels (email, sms) or profile properties) through the frontend SDK as well.

    **1.2. Migration Process:**

    - First set up and release continuous integration to auto-populate user profiles as they are identified/modified in your database.
    - Perform a [<u>one-time bulk migration</u>](https://docs.suprsend.com/docs/python-create-user-profile#bulk-api-for-handling-multiple-user-profiles) of existing users. Since, profile updates are upsert functions, syncing the same profile again will not create duplicate users.

    **1.3. Required Data:**

    At a minimum, each user profile must include a unique, immutable identifier and channel details (e.g., email, phone number) for communication. Additional profile attributes, such as language and timezone, can be progressively synced alongside notification triggers.
  </Step>
  <Step title="Modelling Additional Data Entities">
    In addition to users, your system may have other entities that require notification modelling from the start. If your system only requires direct user notifications and you always know the recipient in your trigger, you can just migrate users and you are good to go. For other cases, SuprSend supports two key concepts for user modelling:

    <Accordion title="Tenants" icon="sparkles">
      Use [tenants](https://docs.suprsend.com/docs/brands) when,

      - You are a SAAS platform where customer [<u>notification preferences</u>](https://docs.suprsend.com/docs/brand-preference) can be controlled by your org or end customer admin.
      - Sending notifications on behalf of customers and need to white label notification or route via customer's vendor credentials (their email address)
    </Accordion>
    <Accordion title="Objects" icon="sparkles">
      Use [objects](https://docs.suprsend.com/docs/objects) when,

      - You need to notify a group of users without having to identify individual recipients in the trigger. For example, send notification to all followers or subscribers when a new content is posted on a channel or send an alert to associated users of a task on status change.
      - You need to send notification to non-user entities like company slack channel, email group or shared inbox feed. Eg. Send incident report or anomaly alerts on a company's Slack channel.
    </Accordion>
  </Step>
  <Step title="Templates">
    - If your templates are stored in your database, they can be migrated using template APIs (_currently in beta, contact _[_<u>support</u>_](mailto:support@suprsend.com)_ for migration assistance_). We use handlebars as the templating language. So, if you have your variables in a different language, convert it into handlebars before syncing.
    - If templates are part of your final trigger, you can create a template with all fields set as variable and pass the corresponding content dynamically in the trigger. However, to fully leverage the platform, we recommend a one-time bulk migration of templates. This will reduce engineering overhead as it the templates will be decoupled from the code and product / design team can manage template updates independently without engineering involvement.
    - For email templates, we recommend using our visual editor to design [<u>template</u>](https://docs.suprsend.com/docs/templates) directly on [<u>SuprSend console</u>](https://app.suprsend.com/en/staging/templates). While the initial setup may take some time, it significantly simplifies future template iterations. It also enables non-engineering teams to update templates independently, reducing dependency on developers.
  </Step>
  <Step title="Workflows">
    [<u>Workflows</u>](https://docs.suprsend.com/docs/workflows) contain notification logic, such as scheduling reminders (e.g., cron jobs) or determining when to trigger specific notifications based on conditions. Currently, this logic would be residing in your code and you would be calling vendor APIs to send the final notification.\
    \
    We recommend building these logics on SuprSend. This decouples logic from your code and and all you have to do is simply trigger workflow, simplifying future iterations and reducing engineering overhead. Workflows can currently be designed on SuprSend console. We'll soon be exposing APIs for the same.\
    \
    To streamline migration, **start by migrating 3-4 key notification** use cases in the first release. Gradually expand to cover all notification scenarios over time.
  </Step>
  <Step title="In-app Inbox">
    - **Design Implementation**: You can integrate with the relevant SDK and replicate your existing Inbox UI using customizable [<u>react components</u>](https://docs.suprsend.com/docs/react-customize-inbox) or a [<u>headless library</u>](https://docs.suprsend.com/docs/headless-inbox). SuprSend's Inbox SDK gives you the flexibility to design any UI you want.
    - **Feature Flagging**: After achieving the design parity and implementing the Inbox integration, hide the new Inbox behind a feature flag and run it in parallel with your current implementation.
    - **Releasing without downtime**: As soon as your backend is released, remove the feature flag, switch off the current implementation and show SuprSend Inbox component. The notifications sent during parallel run of current and new SDK will be visible in SuprSend Inbox when switched.
  </Step>
  <Step title="Migrate User Preferences">
    - Use [<u>Preference API</u>](https://docs.suprsend.com/reference/preference-overview) for a one-time migration and capture future preferences through SuprSend’s [<u>hosted preference page</u>](https://docs.suprsend.com/docs/preferences#hosted-preference-page) or [<u>embeddable UI</u>](https://docs.suprsend.com/docs/preferences#embed-in-your-product).
    - If you have an existing preference centre in your application, you can continue to use that. Just pass the updates via API back to SuprSend. Some companies also pass this data along with workflow trigger but we generally recommend syncing preferences in SuprSend, so you don't need to compute this everytime on trigger.
    - If preferences are managed directly by vendors (e.g., email opt-outs via suppression lists), SuprSend will automatically track these and mark the emails as inactive for a given period, generally 30 days, to ensure that we don't keep making vendor calls in case of hard bounce.

      In this case, You can avoid adding SuprSend preference centre in the first integration, but we recommend adding it later. Vendor unsubscription page doesn't give granular preference control to users and leads to user resorting to channel-level unsubscriptions.
  </Step>
</Steps>

After data migration and setup, next is setup your [<u>workflow trigger</u>](https://docs.suprsend.com/docs/trigger-workflow). There are 2 ways to setup workflow triggers. You can compare them [<u>here</u>](https://docs.suprsend.com/docs/event-vs-api-trigger) and see which is the most suitable for you.

## Rollout Plan

Now, that you've understood how the migration will happen, you don't need to setup everything in the first phase and plan your release in multiple phases. Here are some of the phases and the timeline for the migration tasks in each phase. You can rollout all notifications in phase 1 or divide your migration in 2 phases, migrate 3-4 usecases at the start and then migrate rest of the usecases in phase 2.

| **Release Phase** | **Migration task**                                                                                                  | **Who needs to get involved** | **Timeline**                                                       |
| :---------------- | :------------------------------------------------------------------------------------------------------------------ | :---------------------------- | :----------------------------------------------------------------- |
| Phase 1           | - Setup User sync for new user updates\ - [Optional] Setup data modelling for objects, tenant\ - Setup Event stream | Engineering                   | 4-6 days                                                           |
| Phase 1           | Do an early release to start syncing user and event data in SuprSend                                                | Engineering                   | 2-3 days                                                           |
| Phase 1           | Vendor Integration                                                                                                  | Engineering                   | < 1 day                                                            |
| Phase 1           | Create assets for initial set of notifications (workflow and template)                                              | Product and Design            | 4-5 days                                                           |
| Phase 1           | Setup workflow trigger if different from event stream                                                               | Engineering                   | 2-3 days                                                           |
| Phase 1           | Add SuprSend In-app Inbox in Frontend Application                                                                   | Engineering                   | < 1 day (with react components)\ \ 4-5 days (using headless hooks) |
| Phase 1           | Create Preference categories on SuprSend platform and link them to the relevant workflows                           | Product, Engineering          | <1 day                                                             |
| Phase 1           | Add SuprSend Preference centre in Frontend Application                                                              | Engineering                   | 4-5 days                                                           |
| Phase 1           | [Optional]Set up push notification                                                                                  | Engineering                   | 1 day                                                              |
| Phase 1           | Migrate Existing Users                                                                                              | Engineering                   | 4-5 days                                                           |
| Phase 1           | Backend: Testing and Go-live                                                                                        | Product, Engineering          | 7-10 days                                                          |
| Phase 1           | Frontend: Release web and mobile applications                                                                       | Engineering                   | 3 - 4 days                                                         |
| Phase 1           | Migrate User Preferences                                                                                            | Engineering                   | < 1 day                                                            |
| Monitoring        | Testing and Monitoring the changes on production                                                                    | Engineering                   | 7 days                                                             |
| Phase 2           | Adding more notification usecases                                                                                   | Product, Engineering          | 2 - 3 hours per additional notification                            |