---
title: "User Preferences"
description: "Learn how user preferences work in SuprSend and how to capture them."
---

<Note>
  **Before you start:** Make sure you've set up notification categories first. See [Manage Categories and Preferences](/docs/managing-notification-categories) for step-by-step instructions.
</Note>

Preferences let users control which notifications they receive. Instead of an all-or-nothing approach, users can opt out of specific categories, choose preferred channels, and set notification frequency. This granular control reduces the chance that users disable all notifications from your platform.

SuprSend provides [ready-made UI components](/docs/user-preferences#embed-in-your-product) and [APIs](/reference/overview) to build preference screens where users can opt in or opt out of different notification categories and channels. This works for both B2B and B2C applications.

<CardGroup cols="2">
  <Card title="How It Works" icon="gears" iconType="solid">
    Preferences are evaluated in priority order: **User Preference** → **Tenant Default** → **Category Default**
  </Card>
  <Card title="Three Levels of Control" icon="layer-group" iconType="solid">
    Global channel opt-outs, category preferences, and channel opt-outs within categories
  </Card>
</CardGroup>

---

## What are user preferences?

<Warning>
  **Preferences only work with sub-categories:** User preferences apply to sub-categories you create, not root-categories (System, Transactional, Promotional). Use sub-category slugs in workflows for preferences to work.
</Warning>

Each user has a preference set that controls which notifications they receive.
A preference set has three levels of control:

1. **`channel_preferences`** — Global channel opt-outs (e.g., opt out of all email)
2. **`categories`** — Category-level preferences (opt in/out of all channels of a notification type)
3. **`opt_out_channels`** — Opt-in/out of specific channels within a category

**Example:**
```json
{
  "channel_preferences": [
    { 
        "channel": "email", 
        "is_restricted": true 
    }
  ],
  "categories": [
    { 
      "category": "invoice-ready", 
      "preference": "opt_out" 
    },
    {
      "category": "payment-reminder",
      "preference": "opt_in",
      "opt_out_channels": ["slack"]
    }
  ]
}
```

In this example: user opted out of email globally, opted out of `invoice-ready` category completely, and stays opted in to `payment-reminder` but without Slack.

---

## How preferences are determined

When a user hasn't set their own preferences in a category, SuprSend uses defaults in this order:

1. **User Preference** — Individual user's explicit choices (highest priority)
2. **Tenant Default Preference** — Default preferences set by tenant for the category
3. **Category Default Preference** — Default preferences set at the category level (lowest priority)

<Note>
  <strong>Preference precedence:</strong> User Preference → Tenant Default Preference → Category Default Preference
</Note>

<Note>
**Preference precedence is determined at category level**. So, if a user overrides preference for a category but doesn't touch other categories, defaults continue to apply to the untouched categories.
</Note>
---

## Setting up preference categories

Before users can set their preferences, you must first create and configure preference categories.
For step-by-step setup instructions, see [Manage Categories and Preferences](/docs/managing-notification-categories).

---

## Default preferences

Default preferences determine how users receive notifications when they haven't set their own preferences. Configure these at the sub-category level when setting up categories.

### What default preferences control

Default preferences control:
- **Channel or Category defaults**: Which categories or channels will be turned on/off by default on users' preference page.
- **Mandatory channels**: Which channel or category users cannot opt out of (shown as disabled on preference page)
- **Visibility**: Whether a category appears on the preference page

### Preference types

<AccordionGroup>
  <Accordion title="On — Users receive this category's notifications by default">
    Users will receive notifications in this category by default. You can configure Opt-in Channels to specify which channels are included in the default "On" state:

    - **All**: All available channels are enabled by default
    - **Selected Channels only**: Only specific channels you select are enabled by default (e.g., Email, Android Push, iOS Push, In-App Inbox, MS Teams, Slack)
  </Accordion>

  <Accordion title="Off — Users must opt in to get notifications">
    Users will not receive notifications unless they change the preference.
  </Accordion>

  <Accordion title="Can't Unsubscribe — Users cannot opt out of mandatory channels in this category">
    Prevents users from fully opting out of the category. When selected, you can configure:

    - **Mandatory Channels**: Channels which can't be opted out of by the user. Set to "All" or "Selected Channels".
    - **Opt-in Channels**: In case of "Selected" Mandatory Channels, you can configure the channels that will be opted in by default. Channels other than mandatory and opt-in will be skipped for sending notification unless user explicitly opts in to them.

    <Note>
      Even when a category is set to "Can't Unsubscribe," users can still control channel-level preferences if your channel-level settings allow it.
    </Note>
  </Accordion>
</AccordionGroup>

This configuration gives you fine-grained control over which channels a user is opted into by default, letting you differentiate between must-deliver channels, default-on channels, and optional channels.

---

## Capturing user preferences

Users can set their preferences through one of the following methods:

### Hosted preference page

Once you publish preference categories, **SuprSend automatically generates a dedicated unsubscription webpage for collecting user preferences**. Users can set channel-specific preferences from the hosted page. If the link is included in an email, the hosted page will show and save email preferences. <br /><br/> Include it in your templates using `{{$hosted_preference_url}}`.

![](/images/hosted-preference-page.png)

> This page is currently hosted on a SuprSend domain, but you can reach out to [support@suprsend.com](mailto:support@suprsend.com) if you'd prefer it hosted on your own domain.




### Embed in your product

You can embed the preference interface directly inside your product using SuprSend's ready-made UI components. SDKs exist in the languages below. 

Update your product preference page link on the tenant page and render it in templates using `{{$embedded_preference_url}}`.

<CardGroup cols="3">
  <Card title="Javascript" icon="js" iconType="solid" href="/docs/js-preferences">

  </Card>
  <Card title="React" icon="react" iconType="solid" href="/docs/preference-react-sdk">

  </Card>
  <Card title="Angular" icon="angular" iconType="solid" href="/docs/preferences-angular">

  </Card>
</CardGroup>
<Frame caption="Embeddable preference page">
![](/images/docs/a2ec79a301149f157c50fcd94378fbe448d2b789d68da8cb4a1b97dccfd15680-image.png)
</Frame>

---

## Controlling what categories to show on UI

It's always a good practice to show only the categories that are relevant to the user. There are two ways to achieve this:

### Hide categories for tenant users
In a multi-tenant setup, tenants or admins can control which categories their users see. Setting `visible_to_subscriber: false` in [tenant preferences](/reference/update-tenant-default-preference) hides the category from tenant users' preference pages. Hidden categories won't send notifications to those users, even if they previously opted in.

### Filter categories with tags
Use tags to show categories based on user roles, departments, or teams. Filter categories in the preference center using the `tags` query parameter.

<Steps>
<Step title="Setting Preference tags">
Tags can be added to sections and sub-categories directly from **Developers → Notification Categories** in the SuprSend Console. When a tag is assigned at the section level, it automatically applies to all categories under that section—so filtering by a section tag also filters its child categories.
![Tags Within Preference Categories](/images/preference-tag-changelog.png)

</Step>

<Step title="Filter Categories with Tags">
You can filter categories using the tags query parameter in the API. This can be a simple tag match (e.g. `tags=tag1`) or a more advanced filter using logical operators.

**Supported operators:**

| Operator | Operand Datatype | Description                                                | Example                               |
| -------- | ---------------- | ---------------------------------------------------------- | ------------------------------------- |
| `exists` | boolean          | Returns categories where any tag is set                    | `tags={ "exists": true }`             |
| `not`    | string           | Excludes categories that have the specified tag            | `tags={ "not": "admin" }`             |
| `or`     | array            | Returns categories that match **any** of the provided tags | `tags={ "or": ["sales", "marketing"] }` |
| `and`    | array            | Returns categories that match **all** provided tags        | `tags={ "and": ["sales", "manager"] }`  |

You can combine these operators for nested filtering like `tags={ "or": [{ "and": ["sales", "manager"] }, { "and": ["marketing", "associate"] }] }`.

If no tags are provided, the preference center returns all visible categories.

</Step>
</Steps>

For details on how tags work, see [Tags](/docs/notification-category#tags).

---

## Translating preference categories in user's locale

- Upload translation files for your category names and descriptions. See [How to manage Category translations](/docs/managing-notification-categories#managing-category-translations) for details.

- Once uploaded, pass a `locale` parameter (e.g., `es`, `fr`, `de`) when:
  - Loading the [embeddable preference center](/docs/user-preferences#embed-in-your-product)
  - As a query parameter in the [get user preference API](/reference/get-user-full-preference). 
  - The [hosted preference page](/docs/user-preferences#hosted-preference-page) picks the locale from user's profile.

- On hosted preference page,
  - **Dynamic content (category names, descriptions)** is translated using translation files you upload.
  - **Static content (CTA text, labels, buttons, etc.)** is translated automatically using SuprSend’s built-in i18n support for commonly used languages. You can see the list of supported languages below.

<Accordion title="Supported languages" defaultOpen={false} id="supported-languages">
<div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px'}}>
<div>
| Language | Code |
|----------|------|
| English | en |
| Spanish | es |
| French | fr |
| German | de |
| Italian | it |
| Portuguese | pt |
| Catalan | ca |
| Russian | ru |
| Dutch | nl |
| Polish | pl |
| Japanese | ja |
| Vietnamese | vi |

</div>

<div>

| Language | Code |
|----------|------|
| Indonesian | id |
| Korean | ko |
| Serbian | sr |
| Norwegian | no |
| Hebrew | he |
| Chinese | zh |
| Finnish | fi |
| Swedish | sv |
| Czech | cs |
| Lithuanian | lt |
| Arabic | ar |

</div>

</div>

</Accordion>

---
## How preferences are evaluated

SuprSend evaluates user preferences at send time. For every recipient, the system checks user-level preferences first, then tenant-level overrides, and finally category defaults.

For detailed information on the evaluation process, see [Preference Evaluation](/docs/preference-evaluation).

---

## Other ways to unsubcribe from notifications

In addition to the preference center within SuprSend, communication channels provide their own opt-out options, which SuprSend manages internally.

<AccordionGroup>
  <Accordion title="Email: Unsubscribe URL header" icon="envelope-dot" iconType="solid">
    Gmail requires an unsubscribe URL in email headers when sending bulk emails (5,000+ emails/day). Most email providers expect you to add your own unsubscription page or offer a basic all-or-nothing opt-out option. You can add `{{$hosted_preference_url}}` here to load the SuprSend hosted preference page from the email header.

    ![](/images/docs/96222900be2910eeaae1edfb7bd8e532ef2b090d828616ac87409085cb1bd89a-image.png)
  </Accordion>
  <Accordion title="Inbox (In-App): Render preference page inside your Inbox" icon="inbox-full" iconType="solid">
    Companies also give users the option to load preference settings inside their in-app Inbox or provide a link to redirect users to the Preference center in their product.
  </Accordion>
  <Accordion title="Mobile Push: Preference Page in App settings" icon="mobile-screen" iconType="solid">
    For mobile push notifications, users typically manage their preferences through the app settings. The category you assign in your workflow is also sent as the push "category" (used by Android/iOS to group notifications). If you set preference categories, the system automatically reflects them in the user's app settings, loading similar preference controls.

    ![](/images/docs/0a8782302c5613a1a952b362912789007197bf449b8c5888e9857470840a1865-image.png)
  </Accordion>
  <Accordion title="SMS & Whatsapp: Reply `STOP`" icon="comments" iconType="solid">
    Users generally unsubscribe from Short Message Service (SMS) by replying "STOP." SuprSend automatically marks the SMS channel as inactive in the user's profile when it receives a STOP reply. For WhatsApp, opt-out behavior depends on the provider; where supported, users can reply STOP and SuprSend will mark the channel inactive.
  </Accordion>
</AccordionGroup>

---

## FAQ

<AccordionGroup>
  <Accordion title="Can users control when they receive digest notifications?">
    Users can opt in or opt out of digest notification categories using preference categories. To let users control the timing of digest notifications (e.g., daily at 9 AM), store their preferred schedule as a custom property in their user profile and reference it in your workflow's digest node. Checkout the [digest dynamic schedule](/docs/digest#dynamic-schedule-send-digest-based-on-user-preference) documentation for more details.
    ```json
    user.set({
      "digestSchedule": {
        "frequency": "daily",
        "time": "09:00"
      }
    })
    ```
  </Accordion>

  <Accordion title="What happens to existing user preference view if I change default preference setting?">
    Changing the default preference for a category doesn't affect users who have already made changes to that category. For categories where users haven't made any changes, the preferences update according to the new default settings.
  </Accordion>

  <Accordion title="I have multiple enterprise customers with various product offerings. Customers should only receive notifications for the products they have enabled, and the same should be visible on their preference page. How can I manage this in SuprSend?">
    You can turn off categories for tenants from the `SuprSend dashboard -> tenant details page -> global preference settings`. Turning off the preference for a category automatically removes it from the tenant preference APIs, UI view and also from user's preference page.
  </Accordion>

  <Accordion title="Why don't I see the 'inbox' channel in my user preferences?">
    The inbox channel preference is behind a feature flag and needs to be enabled for your account. If you don't see the inbox channel in your user preferences, contact [support@suprsend.com](mailto:support@suprsend.com) to have the feature flag enabled for your workspace.
  </Accordion>

  <Accordion title="Why do users still receive promotional notifications even after unsubscribing from all categories?">
    Unsubscribing from top-level categories (System, Transactional, Promotional) is **not supported**. Preferences only work with sub-categories you create.
    
    If you're sending notifications using a top-level category like `"promotional"` in your workflows, users cannot unsubscribe from those notifications through the preference center, even if they unsubscribe from all visible categories.
    
    **Solution:** Create sub-categories under the Promotional category (e.g., "Marketing", "Newsletter", "Product Updates") and use those sub-category slugs in your workflows.
    
    **Best practice:** Organize notifications into meaningful sub-categories rather than using top-level categories directly. This provides users with granular control and improves their experience.
  </Accordion>

  <Accordion title="Can I use user preferences in workflow branching to control which notifications are sent?">
    User preferences are **not** passed in the workflow payload, so you cannot directly access them in branch conditions or other workflow nodes.
    
    **Workaround:** If you need to use preference-based logic in workflows (e.g., to route notifications based on user preferences or combine multiple notification scenarios in a single workflow), we suggest creating different workflows for each notification scenario and adding invoke workflow node to trigger a different workflow from within another workflow.
  </Accordion>

  <Accordion title="How do I let users control both notification on/off and the time they want to be reminded?">
    You can combine preference categories with dynamic digest schedules to achieve this:

    **1. Set up preference categories:**
    - Create a preference category (e.g., "meeting-reminders") that users can opt in/out of using the [preference APIs](/reference/update-user-category-preference) or [preference center UI](/docs/user-preferences#capturing-user-preferences).

    **2. Store time preference as user property:**
    - When users select their preferred reminder time, store it as a custom property in their user profile. For example:
    
    ```json
    user.set({
      "meetingReminderTime": {
        "frequency": "daily",
        "time": "09:00",
        "tz_selection": "recipient"
      }
    })
    ```

    **3. Use dynamic schedule in digest node:**
    - In your workflow's digest node, configure it to use a [dynamic schedule](/docs/digest#dynamic-schedule-send-digest-based-on-user-preference) that references the user property (e.g., `."$recipient".meetingReminderTime`).
    - The digest will only send if the user has opted in to the category, and it will send at their preferred time.

    For detailed information, see [Dynamic Schedule](/docs/digest#dynamic-schedule-send-digest-based-on-user-preference) in the digest documentation.
  </Accordion>
</AccordionGroup>

---

## Related documentation

- [Notification Categories](/docs/notification-category) - Setting up categories & defaults
- [Manage Categories and Preferences](/docs/managing-notification-categories) - Complete guide to setting up and managing categories and preferences
- [Tenant Preferences](/docs/tenant-preference) - Managing tenant-level preferences
- [Preference Evaluation](/docs/preference-evaluation) - How SuprSend evaluates preferences at runtime
