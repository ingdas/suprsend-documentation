---
title: "User Preference"
description: "Learn how preferences work in SuprSend and how to setup it up for your users"
---

Preferences allow users to opt out of notification categories, choose their preferred communication channels, and set the frequency of notifications. Providing granular preferences reduces the likelihood of users disabling all notifications from your platform.

In SuprSend, you can use [ready-made UI](/docs/user-preferences#controlling-what-categories-to-show-on-ui) and [APIs](/reference/overview) to manage multi-tenant preference use cases. This includes letting admins set preferences for internal teams and handle notifications for enterprise customers, where companies, customers, and end users have distinct preferences.

## How preferences work?

Each user has a preference set within SuprSend, and users receive notifications in the category and channel they haven't opted out of. If a user hasn’t configured preferences for a category, the system uses [default preferences](/docs/user-preferences#set-default-preferences).

Preference set contains three level of preferences: `channel_preferences` (for channel-level opt-outs), `categories`, and `opt_out_channels` within each category. In the below example, user has opted out of `email`, `invoice-ready` category and slack channel in `payment-reminder` category.

<CodeGroup>

```json User Preference set
{
  "channel_preferences": [
    {
      "channel": "email",
      "is_restricted": true
    }
  ],
  "categories": [
    {
      "category": "invoice-ready",
      "preference": "opt_out"
    },
    {
      "category": "payment-reminder",
      "preference": "opt_in",
      "opt_out_channels": [
        "slack"
      ]
    }
  ]
}
```

</CodeGroup>

## Set up preference categories in SuprSend

### Create notification category

To set up notification preferences, start by creating notification categories. Instead of creating a separate category for each trigger, group similar notifications to keep categories more user-friendly. You can also add sections to organize your categories more effectively.

> Don't add too many categories as it can drive users to use channel level opt-outs.

<Frame caption="Creating Billing section">
  ![](/images/docs/461967377bb45816a5a0f13812ac496bbb5145a27833a00aface5590c93ca9cb-image.png)
</Frame>

<Frame caption="Adding categories in Billing section">
  ![](/images/docs/d5cf5c1ab42023d327a3944519ce156953ba529f2c6c9c33dc7afddabfa2361a-image.png)
</Frame>

You can update notification categories from the [Developers → Preference categories](https://app.suprsend.com/en/staging/developers/preference-categories) page. Add categories under any of the three predefined root categories:

- **System**: For critical system notifications like OTPs, verification, and authentication. Users can't opt out of this category.
- **Transactional**: Notifications related to user transactions on your platform, such as payment confirmations, delivery statuses, and comments. The default preference for this category opts users in, but you can change it at the individual category level.
- **Promotional**: Marketing notifications like newsletters, announcements, deals, and discounts. The default preference for this category opts users out, but you can change it at the individual category level.

### Set default preferences

If the user hasn't set preferences in a category, the system sends notifications based on default preferences. Default preferences are set in the notification category. The tenant can override the default preferences for their users, either through the [tenant preference API](/reference/update-tenant-default-preference) or from the tenant details page.

You can set following default preferences at category level:

1. \*\*On \*\*: opt-in on all channels
2. \*\*Off \*\*: opt-out on all channels
3. \*\*Can't Unsubscribe\*\*: Use this to prevent users from opting out of critical notification categories, such as anomaly alerts or important transactions (e.g., completed trades, payments). The `opt-out` channel doesn't block notifications from mandatory channels in this category.

### Map category to notifications

Once set, publish your preference categories to see the latest categories in workflow. You can then map these categories when configuring your workflow for preferences to take effect.

## Capture user preferences

You can capture user preference choice using an out-of-the-box hosted subscription page or by embedding a preference center within your product.

### Hosted Preference Page

Once you publish preference categories, SuprSend automatically generates a dedicated webpage for collecting out-of-the-box user preferences. Users can set channel-specific preferences from the hosted page. e.g., if you add it to your email, the page displays only the relevant preference categories for email, and the user’s selections save for email. Include it in your templates using `{{$hosted_preference_url}}`.

![](/images/docs/e46d21ae0de53196f50ba38f00ab208eb961ab96d2dbbf55b585a8dbbfa4ea27-hosted_page.svg)

> This page currently hosts on the SuprSend domain, but you can reach out if you'd prefer it hosted on your own domain.

### Embed in your product

You can load the preference interface inside your product using the ready UI code. SDKs exist in the languages below. Update your product preference page link on the tenant page and render it in templates using `{{$embedded_preference_url}}`.

<CardGroup cols="3">
  <Card title="Javascript" icon="js" iconType="solid" href="/docs/preferences-javascript">
    
  </Card>
  <Card title="React" icon="react" iconType="solid" href="/docs/preferences-react-headless">
    
  </Card>
  <Card title="Angular" icon="angular" iconType="solid" href="/docs/preferences-angular">
    
  </Card>
</CardGroup>

![](/images/docs/a2ec79a301149f157c50fcd94378fbe448d2b789d68da8cb4a1b97dccfd15680-image.png)

### Channel specific unsubscription options

Additionally to the preference center within SuprSend, communication channels provide their own opt-out options, which SuprSend manages internally.

<AccordionGroup>
  <Accordion title="Email: Unsubscribe URL header" icon="envelope-dot" iconType="solid">
    Gmail empathizes with the need to add an unsubscribe URL in email headers when sending bulk emails (5,000+ emails/day). Most email providers expect you to add your own unsubscription page or offer a basic all-or-nothing opt-out option. You can add `{{$hosted_preference_url}}` here to load the SuprSend hosted preference page from the email header.

    ![](/images/docs/96222900be2910eeaae1edfb7bd8e532ef2b090d828616ac87409085cb1bd89a-image.png)
  </Accordion>
  <Accordion title="Inbox: Render Preference Page within Inbox" icon="inbox-full" iconType="solid">
    Companies also give option for users to load the Inbox preferences as a separate page within their Inbox or give a link to redirect users to Preference center in their product.
  </Accordion>
  <Accordion title="Mobile Push: Preference Page in App settings" icon="mobile-screen" iconType="solid">
    For mobile push notifications, users typically manage their preferences through the app settings. The categories set in your workflow also pass as push categories. If you set preference categories, the system automatically reflects them in the user's app settings, loading similar preference controls.

    ![](/images/docs/0a8782302c5613a1a952b362912789007197bf449b8c5888e9857470840a1865-image.png)
  </Accordion>
  <Accordion title="SMS & Whatsapp: Reply `STOP`" icon="comments" iconType="solid">
    Users generally unsubscribe from Short Message Service (SMS) by replying "STOP." In SuprSend, the system marks the channel as inactive in the user profile upon receiving this response.
  </Accordion>
</AccordionGroup>

### **Controlling what categories to show on UI**

In a multi-tenant system, tenants manage which notifications are visible to their end users. e.g., a company administrator might want to set notification preferences for their team, ensuring that team members see only categories relevant to them or those they're opted into by the administrator. Set `visible_to_subscriber` to `false` in the default tenant preferences to control this behavior.

You can control the same for your tenants by turning off category preference from the SuprSend console. For instance, if you operate a SaaS platform where customers access different services or products based on their pricing plans, you can ensure that users see only the categories available to them.

## Preference evaluation

When a workflow triggers, SuprSend evaluates preferences for each recipient before each delivery node.

### Evaluating Recipient Preferences

If recipient preferences aren't set, the system picks the default preference setting. Once the user sets a preference in a category, changes to the default preference of existing categories won't affect recipient preferences.

### Factoring in tenant preferences

If you're triggering notification for a tenant, tenant default preference setting takes precedence over default preference set at category level.

### Resolving preference conflicts

The order of precedence always states as: user > tenant > org (set in notification category settings). If you turn off notifications in a category from the [tenant page](https://app.suprsend.com/en/demo/tenants), users won't receive notifications in that category.

### Debugging preference evaluation in workflow runs

User preferences can change over time, and when checking a workflow run, you need to know what user preferences were at that time. You can view this using the step-by-step debugger in [workflow executions](https://app.suprsend.com/en/demo/logs/executions/?last_n_minutes=1440).

![](/images/docs/e0555b827b95d61b16ba0f58fa1faa05b5109709828157df9d774fb123954516-image.png)

You can also track when user updated their preference by filtering on `Subscriber preference update` in [request logs](https://app.suprsend.com/en/demo/logs/api/?last_n_minutes=1440).

## Tenant Preference

In multi-tenant B2B and B2B2C products, you can use [tenant preference](/docs/tenant-preference) to allow company admins setting preference for their internal team / departments or your enterprise customers setting preference for their end users.

---

### Frequently asked questions

<AccordionGroup>
  <Accordion title="How to setup digest schedule in my preferences?">
    You can create sub-categories for different digest schedules or set the digest schedule in the user profile and pass a dynamic schedule in the workflow digest node. An option to set the digest schedule directly on your preference page will be available soon.
  </Accordion>
  <Accordion title="I have a use case where a company has multiple departments/roles, and the admin will set preferences for users in these departments.">
    You can manage this with tenant preferences. In the SuprSend system, each tenant represents an organization, and the administrator sets which categories to send to their internal team using the [tenant preference API](/reference/update-tenant-default-preference).
  </Accordion>
  <Accordion title="What happens to existing user preference view if I change default preference setting? ">
    Changing the default preference for a category doesn't affect users who have already made changes to that category. For categories where users haven't made any changes, the preferences update according to the new default settings.
  </Accordion>
  <Accordion title="I have multiple enterprise customers with various product offerings. Customers should only receive notifications for the products they have enabled, and the same should be visible on their preference page. How can I manage this in SuprSend?">
    You can turn off categories for tenants from the tenant page on the SuprSend console. Turning off the preference for a category automatically removes it from the tenant preference APIs and UI view. To further apply this to the tenant's users, set `visible to subscriber` to `false` in the default tenant preferences to hide the category from the tenant's end users.
  </Accordion>
</AccordionGroup>

---